<!Doctype html>
<html>
<head>
    <title>DiagnosticsLab</title>
        <link rel="stylesheet" href="stylesheet.css" />
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
        <script src="js/util.js"></script>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

</head>
<body class="padding">
    <header>
        <div class="logo">
            <img class="img" src="img/Icon.jpg">
            <h1 class="header">Diagnostics Lab</h1>
        </div>
        <div class="buttons">
            <button class="button">Logout</button>
           <!--  <a href="signup.html">
                <button class="button secondary">Sign Up</button>
            </a> -->
        </div>
    </header>
<section>
<div class="runner">
</div>
</section>

<section class="contents">
    <nav class="navigation">
    <ul>
        <li><a  href="tech-viewhome.html">Home</li>
        <li><a  href="Registernewpatient.html">Register New Patient</a></li>
        <li><a  href="viewTestResult.html">View Test Result</a></li>
        <li><a  href="entertestresult.html">Enter Test Result</a></li>
        <li><a  href="CreatingTestCase.html">Order New Test</a></li>
    </ul>
    </nav>
<section class="techcontents" >
 <div id="error" class="errortext"></div>
    <div class = "paitentInfo" >
        <label>Patient ID:<sup>*</sup>
            <input id="patientID" placeholder="xxxxxx" required></label>
    </div>
    <div class="paitentInfo" > 
      <label>  Patient Name:
            <input id="patientName" placeholder="xxxxxx" ></label>
    </div>
    <div style="clear: both">
       <label> Test Search:<sup>*</sup>
            <input id="testSearch"  placeholder="xxxxxx" required>
              <button id="search" onclick="clicked()">search</button></label>
    </div>
  
    <div class="tableDiv" >
        <table id="searchResult" class="newtable">
            <tr>
               <th>Test Cases</th> 
            </tr>
        </table>    
    </div>
    
    <div class="tableDiv" >
    <table id="selectedTest" class="newtable">
        <tr>
           <th>Selected Tests</th> 
        </tr>
    </table>
    </div>
    <div class="buttonContainer">
        <button class="button centeralign" id="reset">Reset</button>
        <button class="button centeralign" id="create" onclick="createclicked()">Create</button>
    </div>
</section>

</section>

<aside>
    
</aside>

<footer>
<p> Diagnostics Lab</p>
</footer>
<script>
document.getElementById("selectedTest").style.visibility = "hidden";
document.getElementById("searchResult").style.visibility = "hidden";
var test = { "testcase": [{ "testname": "Blood Test" }, 
    { "testname": "Urine Test" }, 
    { "testname": "White Blood Cells Test" }, 
    { "testname": "Culture Test" }, 
    { "testname": "1 hour Glucose Test" }, 
    { "testname": "3 hours Glucose Test" }] 
};

var text = test.testcase;
function clicked() {
     var patientID, testcase;
        patientID = document.getElementById("patientID");
        testcase = document.getElementById("testSearch");
        if (patientID.value === "" || testcase.value === "") {
            document.getElementById("error").innerHTML = "Enter patientID or TestCase to Search";
            addClass("#patientID", 'error');
            addClass("#testSearch", 'error');
        } else {
            removeClass("#patientID", 'error');
            removeClass("#testSearch", 'error');
            document.getElementById('error').innerHTML="";
            myFunction();
        }
}; 

function createclicked() {
     var patientID, testcase,row;
        patientID = document.getElementById("patientID");
        testcase = document.getElementById("testSearch");
        row=document.getElementById("selectedTest").rows.length;
        if (patientID.value === "" || testcase.value === "" || row < 2)  {
            if(patientID.value === "" || testcase.value === ""){
            document.getElementById("error").innerHTML = "Enter patientID or Test Search";
            }else{
               document.getElementById("error").innerHTML = "Select the Test Case To move Futher"; 
            }

            addClass("#patientID", 'error');
            addClass("#testSearch", 'error');
        } else {
            removeClass("#patientID", 'error');
            removeClass("#testSearch", 'error');
            document.getElementById('error').innerHTML="";
        }
}; 

function myFunction() {
 document.getElementById("searchResult").style.visibility = "visible";  
    text.forEach(function(i){
var table = document.getElementById("searchResult");
        console.log(i.testname);
    var newrow = table.insertRow(1);
    var cell = newrow.insertCell(0);
    // cell.innerHTML = text[i.testname];
    cell.innerHTML=i.testname;
    // cell.className="dynamic";
    console.log(text[i.testname]);
}); 
}
</script>
<script>
$(document).ready(function(){
    // alert("jquery load");
    var table = $('#searchResult');
$("#searchResult tbody").delegate('tr','click',function(){
    $('#selectedTest').css('visibility', 'visible');
    var newtable=document.getElementById("selectedTest");
    var newrows = newtable.insertRow(1);
    newrows.innerHTML = this.innerHTML;

// alert(this.innerHTML);
});

$("#reset").click(function(){
  $('#selectedTest').css('visibility', 'hidden');  
  $('#searchResult').css('visibility', 'hidden');
  $('#testSearch').val('');
  $('#patientID').val('');
});
});

// $('#search').on('click',function(){
//     if(('#patientID').val()=='' || (('#testSearch').val()==''){
//         $('#error').val('Please Enter PatientId or Test Case to Search');
//     }else{
//         alert('inside else');
//         myFunction();
//     }
// });
// });

</script>
<script type="text/javascript" src="js/lib.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
</body>
</html>